# Система управления задачами

## Описание проекта
Система управления задачами - это REST API для эффективного управления задачами с интеллектуальной системой приоритизации. Система автоматически рассчитывает приоритеты задач на основе множества факторов, включая сроки выполнения, длительность, статус и время создания.

## Основные возможности
- Создание, чтение, обновление и удаление задач
- Автоматическая сортировка задач по приоритету
- Категоризация задач
- Аутентификация и авторизация пользователей
- Интеллектуальная система расчета приоритетов

## Система приоритизации
Система учитывает следующие факторы при расчете приоритета задачи:

1. **Базовый приоритет** (1-5) - задается пользователем
2. **Время создания** - задачи становятся более срочными со временем
3. **Срок выполнения** - учитывается приближение дедлайна
4. **Длительность** - более длительные задачи получают небольшой бонус
5. **Статус задачи**:
   - В процессе: +20% к приоритету
   - Заблокированные: -20% к приоритету
   - Завершенные: исключаются из сортировки

```
.
├── app/
│   ├── api/
│   │   └── v1/
│   │       ├── endpoints/
│   │       │   ├── auth.py
│   │       │   └── tasks.py
│   │       └── api.py
│   ├── core/
│   │   ├── config.py
│   │   ├── database.py
│   │   ├── priority.py
│   │   └── security.py
│   ├── crud/
│   │   ├── task.py
│   │   └── user.py
│   ├── models/
│   │   ├── task.py
│   │   └── user.py
│   └── schemas/
│       ├── task.py
│       └── user.py
├── tests/
│   ├── test_auth.py
│   └── test_tasks.py
├── requirements.txt
├── main.py
└── README.md
```

## Установка

1. Создайте виртуальное окружение:
```bash
python -m venv .venv
```

2. Активируйте виртуальное окружение:
- Windows:
```bash
.venv\Scripts\activate
```
- Linux/Mac:
```bash
source .venv/bin/activate
```

3. Установите зависимости:
```bash
pip install -r requirements.txt
```

4. Создайте файл `.env` в корневой директории:
```env
API_V1_STR=/api/v1
PROJECT_NAME=Task Management System
HOST=0.0.0.0
PORT=8000
DEBUG=True
SECRET_KEY=your-secret-key-here
ACCESS_TOKEN_EXPIRE_MINUTES=30
DATABASE_URL=sqlite:///./task_management.db
CORS_ORIGINS=["http://localhost:3000"]
```

## Запуск приложения

Для запуска сервера в режиме разработки:
```bash
python main.py
```

API будет доступен по адресу `http://localhost:8000`

## Документация API

- Swagger UI: `http://localhost:8000/docs`
- ReDoc: `http://localhost:8000/redoc`

## Эндпоинты API

### Аутентификация
- `POST /api/v1/auth/login` - вход в систему
- `POST /api/v1/auth/register` - регистрация нового пользователя

### Задачи
- `GET /api/v1/tasks/` - получить список задач (сортировка по приоритету)
- `POST /api/v1/tasks/` - создать новую задачу
- `GET /api/v1/tasks/{task_id}` - получить информацию о задаче
- `PUT /api/v1/tasks/{task_id}` - обновить задачу
- `DELETE /api/v1/tasks/{task_id}` - удалить задачу

### Категории
- `GET /api/v1/categories/` - получить список категорий
- `POST /api/v1/categories/` - создать новую категорию
- `GET /api/v1/categories/{category_id}` - получить информацию о категории
- `PUT /api/v1/categories/{category_id}` - обновить категорию
- `DELETE /api/v1/categories/{category_id}` - удалить категорию

## Примеры использования

### Создание задачи
```json
{
  "title": "Важная задача",
  "description": "Описание задачи",
  "priority": 5,
  "status": "pending",
  "due_date": "2024-03-20",
  "estimated_duration": 4,
  "category_id": 1
}
```

### Получение списка задач
Задачи автоматически сортируются по приоритету с учетом:
- Времени с момента создания
- Приближения срока выполнения
- Длительности задачи
- Текущего статуса
- Пользовательского приоритета

## Документация API
После запуска сервера документация доступна по адресам:
- Swagger UI: `http://localhost:8000/docs`
- ReDoc: `http://localhost:8000/redoc`

## Тестирование
Для запуска тестов:
```bash
pytest
```

## Лицензия
MIPT